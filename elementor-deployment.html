<!-- 
  HUB OF LUCK - DIRECT DEPLOYMENT (v7.0)
  ======================================
  Use this in your Elementor HTML Widget.
-->

<div id="hol-widget-wrapper" style="width: 100%; min-height: 400px; background: #ffffff; border-radius: 20px; border: 1px solid #f1f5f9; overflow: hidden; box-shadow: 0 10px 40px -15px rgba(0,0,0,0.08);">
  
  <iframe 
    id="hol-main-frame"
    src="https://hub-of-luck-app1.vercel.app?embedded=true" 
    style="width: 100%; height: 800px; border: none; display: block;"
    scrolling="no"
    title="Hub of Luck Intelligence"
  ></iframe>

  <!-- Fallback Footer (Visible if frame fails) -->
  <div id="hol-fallback-info" style="display:none; padding: 20px; text-align: center; border-top: 1px solid #f1f5f9; font-family: sans-serif;">
    <p style="font-size: 11px; color: #94a3b8; margin-bottom: 10px;">Having trouble viewing the hub?</p>
    <a href="https://hub-of-luck-app1.vercel.app" target="_blank" style="color: #10b981; font-size: 11px; font-weight: bold; text-decoration: none;">Open Hub in New Tab â†’</a>
  </div>
</div>

<script>
(function() {
  const frame = document.getElementById('hol-main-frame');
  const wrapper = document.getElementById('hol-widget-wrapper');
  const fallback = document.getElementById('hol-fallback-info');

  // Handle resizing and height sync
  window.addEventListener('message', function(e) {
    if (!e.origin.includes('vercel.app')) return;

    if (e.data.type === 'hol-resize' && e.data.height > 100) {
      frame.style.height = e.data.height + 'px';
    }
  });

  // If the frame is still empty after 10 seconds, show the fallback link
  setTimeout(() => {
    fallback.style.display = 'block';
  }, 10000);
})();
</script>